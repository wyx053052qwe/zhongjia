/*
 * FilePondPluginFileValidateSize 2.1.0
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */

/* eslint-disable */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):e.FilePondPluginFileValidateSize=i()}(this,function(){"use strict";var e=function(e){var i=e.addFilter,l=e.utils,E=l.Type,a=l.replaceInString,u=l.toNaturalFileSize;return i("ALLOW_HOPPER_ITEM",function(e,i){var l=i.query;if(!l("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var E=l("GET_MAX_FILE_SIZE");if(null!==E&&e.size>=E)return!1;var n=l("GET_MIN_FILE_SIZE");return!(null!==n&&e.size<=n)}),i("LOAD_FILE",function(_,e){var t=e.query;return new Promise(function(e,i){if(t("GET_ALLOW_FILE_SIZE_VALIDATION")){var l=t("GET_MAX_FILE_SIZE");if(null!==l&&_.size>=l)i({status:{main:t("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:a(t("GET_LABEL_MAX_FILE_SIZE"),{filesize:u(l)})}});else{var E=t("GET_MIN_FILE_SIZE");if(null!==E&&_.size<=E)i({status:{main:t("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:a(t("GET_LABEL_MIN_FILE_SIZE"),{filesize:u(E)})}});else{var n=t("GET_MAX_TOTAL_FILE_SIZE");if(null!==n)if(n<t("GET_ACTIVE_ITEMS").reduce(function(e,i){return e+i.fileSize},0))return void i({status:{main:t("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:a(t("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:u(n)})}});e(_)}}}else e(_)})}),{options:{allowFileSizeValidation:[!0,E.BOOLEAN],maxFileSize:[null,E.INT],minFileSize:[null,E.INT],maxTotalFileSize:[null,E.INT],labelMinFileSizeExceeded:["File is too small",E.STRING],labelMinFileSize:["Minimum file size is {filesize}",E.STRING],labelMaxFileSizeExceeded:["File is too large",E.STRING],labelMaxFileSize:["Maximum file size is {filesize}",E.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",E.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",E.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});